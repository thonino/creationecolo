{% extends 'base.html.twig' %}

{% block title %} {{ category.name }} {% endblock %}

{% block body %}

<div class="scroll d-flex flex-column align-items-center">
    <h3 class="fx-5 text-center text-dark">
    {{ category.name }} 
    {% if is_granted('ROLE_ADMIN') %}
    <a class="btn btn-success btn-sm"style="max-width: 350px;" href="{{ path('app_products_new') }}">Nouveau Produit</a>
    {% endif %}
    </h3>
</div>
{# <div class="scroll d-flex justify-content-center flex-wrap m-0">
    {% for prod in prods %}{% if prod.category == category.name %}
        <div class="scroll mx-2 text-light d-flex flex-column align-items-center" style="max-width: 250px">
            {% if is_granted('ROLE_ADMIN') %}
                <a class="btn btn-success mt-2 btn-sm"style="max-width: 200px;" href="{{ path('app_products_edit', {'id': prod.id}) }}">Modifier</a>
            {% endif %}
            <h5 class="fs-6 text-secondary text-center mt-1">{{ prod.name }}</h5>
            <div class="card col-12 text-center bg-light">
                <img src="/img/{{prod.image}}.jpg" class="card-img-top" alt="...">
                    <h5 class="card-card txt fs-3 "></span>{{ prod.price }}€ </span></h5>
                    <span class="d-flex justify-content-center mx-2">
                    <a class="btn fond text-light mb-2" href="{{ path('cart_add', {'products' : prod.id})}}">Ajouter au panier</a><br>
                    <a class="btn btn-secondary mb-2  mx-2" href="{{ path('app_products_show', {'id': prod.id}) }}">Voir</a>
                    </span>
            </div>
        </div>
    {% endif %}{% endfor %}
</div> #}
<div class="scroll d-flex justify-content-center flex-wrap m-0">
    {% for prod in prods %}{% if prod.category == category.name %}
        <div class="scroll mx-2 text-light d-flex flex-column align-items-center" style="max-width: 250px">
            {% if is_granted('ROLE_ADMIN') %}
                <a class="btn btn-success mt-2 btn-sm"style="max-width: 200px;" href="{{ path('app_products_edit', {'id': prod.id}) }}">Modifier</a>
            {% endif %}
                <h5 class="fs-6 text-secondary text-center mt-1">{{ prod.name }}</h5>
                    <div class="card col-12 text-center bg-light">
                                <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                <img src="/img/{{prod.image}}.jpg" class="card-img-top" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    <a href="#" class="text-light"><i class="bi bi-zoom-in"></i></a>
                                </div>
                                </div>
                                <div class="carousel-item">
                                <img src="/img/{{prod.image}}.jpg" class="card-img-top" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    <a href="#" class="text-light"><i class="bi bi-zoom-in"></i></a>
                                </div>
                                </div>
                                <div class="carousel-item">
                                <img src="/img/{{prod.image}}.jpg" class="card-img-top" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    <a href="#" class="text-light"><i class="bi bi-zoom-in"></i></a>
                                </div>
                                </div>
                            </div>
                            <button class="carousel-control-prev carousel-dark" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next carousel-dark" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                            </div>
                            <h5 class="card-card txt fs-3 "></span>{{ prod.price }}€ </span></h5>
                            <span class="d-flex justify-content-center mx-2">
                            <a class="btn fond text-light mb-2" href="{{ path('cart_add', {'products' : prod.id})}}">Ajouter <i class="bi bi-cart"></i></a><br>
                            <a class="btn btn-secondary mb-2  mx-2" href="{{ path('app_products_show', {'id': prod.id}) }}">Plus</a>
                            </span>
                    </div>
        </div>
    {% endif %}{% endfor %}
</div>

{% endblock %}
